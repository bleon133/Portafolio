<!DOCTYPE html>
<html lang="es" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n-key="title">Portafolio | Brayan S. León M.</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- AOS Animations CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Devicon Icons -->
    <link href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --color-bg: #121212;
            --color-surface: #1E1E1E;
            --color-primary: #00A3E0;
            --color-secondary: #00529B;
            --color-accent: #E91E63;
            --text-light: #E0E0E0;
            --text-dark: #333333;
        }

        html[data-bs-theme="light"] {
            --color-bg: #f9f9f9;
            --color-surface: #fff;
            --text-light: #333;
        }

        body {
            background: var(--color-bg);
            color: var(--text-light);
            font-family: 'Poppins', sans-serif;
            scroll-behavior: smooth;
            overflow-x: hidden;
        }

        .navbar,
        .bg-body,
        .modal-content {
            background: var(--color-surface) !important
        }

        .btn-primary {
            background: var(--color-primary);
            border: var(--color-primary);
            color: var(--text-light)
        }

        .filter-btn.active {
            background: var(--color-secondary) !important;
            color: #fff
        }

        section {
            padding: 5rem 0
        }

        .project-item {
            transition: opacity .3s ease, transform .3s ease
        }

        .project-item.hide {
            opacity: 0;
            transform: translateY(20px);
            pointer-events: none
        }

        .typewriter h1 {
            overflow: hidden;
            white-space: nowrap;
            display: inline-block;
            border-right: .15em solid var(--color-accent);
            width: 0ch;
            animation: typing 2.5s steps(27, end) forwards, blink-caret .75s step-end infinite
        }

        @keyframes typing {
            from {
                width: 0ch
            }

            to {
                width: 27ch
            }
        }

        @keyframes blink-caret {

            from,
            to {
                border-color: transparent
            }

            50% {
                border-color: var(--color-accent)
            }
        }

        /* Skills progress bars */
        .skill-progress {
            height: 8px;
            border-radius: 4px;
            background: rgba(255, 255, 255, .1);
            overflow: hidden
        }

        .skill-progress .progress-bar {
            background: var(--color-primary);
            height: 100%;
            transition: width 1.5s ease
        }

        .project-card:hover .overlay {
            opacity: 1;
        }
    </style>
</head>

<body data-bs-spy="scroll" data-bs-target="#navMenu" data-bs-offset="60" tabindex="0">

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">Brayan S. León M.</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navMenu">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item"><a class="nav-link" href="#about" data-i18n-key="nav_about">Sobre mí</a></li>
                    <li class="nav-item"><a class="nav-link" href="#skills" data-i18n-key="nav_skills">Habilidades</a>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#projects" data-i18n-key="nav_projects">Proyectos</a>
                    </li>
                    <!--<li class="nav-item"><a class="nav-link" href="#testimonials" data-i18n-key="nav_testimonials">Testimonios</a></li>-->
                    <li class="nav-item"><a class="nav-link" href="#experience"
                            data-i18n-key="nav_experience">Experiencia</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact" data-i18n-key="nav_contact">Contacto</a>
                    </li>
                </ul>
                <div class="d-flex ms-3">
                    <button id="lang-toggle" class="btn btn-outline-secondary me-2">EN</button>
                    <button id="theme-toggle" class="btn btn-outline-secondary">
                        <i class="fas fa-sun"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="hero" class="vh-100 d-flex align-items-center typewriter" data-aos="fade-up">
        <div class="container text-center">
            <h1 data-i18n-key="hero_title">Hola, soy Brayan S. León M.</h1>
            <p class="lead mb-4" data-i18n-key="hero_subtitle">Ingeniero de Sistemas apasionado por crear experiencias
                digitales únicas.</p>
            <a href="#projects" class="btn btn-outline-primary btn-lg me-3" data-i18n-key="hero_view_projects">Ver
                Proyectos</a>
            <a href="Brayan_Leon_CV.pdf" class="btn btn-light btn-lg" download
                data-i18n-key="hero_download_cv">Descargar CV</a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" data-aos="fade-right">
        <div class="container">
            <h2 class="fw-semibold text-center mb-4" data-i18n-key="about_title">Sobre mí</h2>
            <p data-i18n-key="about_p1">Desde niño me fascinaban los videojuegos, lo que me llevó a estudiar Tecnólogo
                en Desarrollo de Videojuegos e Ingeniería de Sistemas. He combinado mis estudios con dos años de
                experiencia en Devs Technology, donde desarrollé aplicaciones backend y multiplataforma.</p>
            <p data-i18n-key="about_p2">Finalista en el UNAB GameDev GameJam, descubrí que la innovación y la diversión
                pueden ir de la mano en la programación.</p>
            <p><em data-i18n-key="about_funfact_label">Dato curioso:</em> <span data-i18n-key="about_funfact">Cuando no
                    programo, me gusta construir prototipos con Arduino o explorar videojuegos indie.</span></p>
        </div>
    </section>

    <!-- Skills Section Mejorada -->
    <section id="skills" data-aos="fade-up">
        <div class="container">
            <h2 class="fw-semibold text-center mb-5" data-i18n-key="skills_title">Habilidades</h2>
            <div class="row g-4">
                <!-- Backend & Databases -->
                <div class="col-md-6" data-aos="fade-right" data-aos-delay="100">
                    <div class="card shadow-sm p-4 bg-body-secondary">
                        <h5 class="card-title mb-3"><i class="fas fa-server me-2"></i>Backend & Bases de Datos</h5>
                        <div class="mb-3">
                            <div class="d-flex justify-content-between"><span>Spring Boot</span><span>90%</span></div>
                            <div class="skill-progress">
                                <div class="progress-bar" style="width:0%" data-width="90%"></div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="d-flex justify-content-between"><span>MongoDB</span><span>85%</span></div>
                            <div class="skill-progress">
                                <div class="progress-bar" style="width:0%" data-width="85%"></div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="d-flex justify-content-between"><span>Oracle DB</span><span>75%</span></div>
                            <div class="skill-progress">
                                <div class="progress-bar" style="width:0%" data-width="75%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="d-flex justify-content-between"><span>Java</span><span>88%</span></div>
                            <div class="skill-progress">
                                <div class="progress-bar" style="width:0%" data-width="88%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Mobile & Multiplatform -->
                <div class="col-md-6" data-aos="fade-left" data-aos-delay="200">
                    <div class="card shadow-sm p-4 bg-body-secondary">
                        <h5 class="card-title mb-3"><i class="fas fa-mobile-alt me-2"></i>Mobile & Multiplataforma</h5>
                        <div class="mb-3">
                            <div class="d-flex justify-content-between"><span>Kotlin</span><span>92%</span></div>
                            <div class="skill-progress">
                                <div class="progress-bar" style="width:0%" data-width="92%"></div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="d-flex justify-content-between"><span>Jetpack Compose</span><span>80%</span>
                            </div>
                            <div class="skill-progress">
                                <div class="progress-bar" style="width:0%" data-width="80%"></div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="d-flex justify-content-between"><span>Android Studio</span><span>85%</span>
                            </div>
                            <div class="skill-progress">
                                <div class="progress-bar" style="width:0%" data-width="85%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="d-flex justify-content-between"><span>Firebase</span><span>78%</span></div>
                            <div class="skill-progress">
                                <div class="progress-bar" style="width:0%" data-width="78%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Game Development -->
                <div class="col-md-6" data-aos="fade-right" data-aos-delay="300">
                    <div class="card shadow-sm p-4 bg-body-secondary">
                        <h5 class="card-title mb-3"><i class="fas fa-gamepad me-2"></i>Desarrollo de Videojuegos</h5>
                        <div class="mb-3">
                            <div class="d-flex justify-content-between"><span>Unity</span><span>88%</span></div>
                            <div class="skill-progress">
                                <div class="progress-bar" style="width:0%" data-width="88%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="d-flex justify-content-between"><span>C#</span><span>85%</span></div>
                            <div class="skill-progress">
                                <div class="progress-bar" style="width:0%" data-width="85%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Others & Tools -->
                <div class="col-md-6" data-aos="fade-left" data-aos-delay="400">
                    <div class="card shadow-sm p-4 bg-body-secondary">
                        <h5 class="card-title mb-3"><i class="fas fa-tools me-2"></i>Otros & Herramientas</h5>
                        <div class="mb-3">
                            <div class="d-flex justify-content-between"><span>Arduino</span><span>70%</span></div>
                            <div class="skill-progress">
                                <div class="progress-bar" style="width:0%" data-width="70%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="d-flex justify-content-between"><span>MATLAB</span><span>75%</span></div>
                            <div class="skill-progress">
                                <div class="progress-bar" style="width:0%" data-width="75%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Testimonials Section -->
    <!--
    <section id="testimonials" data-aos="fade-up">
        <div class="container">
            <h2 class="fw-semibold text-center mb-4" data-i18n-key="testimonials_title">Testimonios</h2>
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div id="testimonialCarousel" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active text-center">
                                <p class="lead">"Brayan entregó un sistema robusto y escalable, superando nuestras
                                    expectativas."</p>
                                <footer class="blockquote-footer">Gerente de Devs Technology</footer>
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#testimonialCarousel"
                            data-bs-slide="prev">
                            <span class="carousel-control-prev-icon"></span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#testimonialCarousel"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    -->

    <!-- Projects Section with Filters -->
    <section id="projects" class="py-5 bg-body" data-aos="fade-left">
        <div class="container">
            <h2 class="fw-semibold mb-4 text-center" data-i18n-key="projects_title">Proyectos Destacados</h2>

            <!-- Filtros -->
            <div class="d-flex justify-content-center mb-5" id="project-filters">
                <button class="btn btn-outline-primary me-2 filter-btn active" data-filter="all">Todos</button>
                <button class="btn btn-outline-primary me-2 filter-btn" data-filter="web">Web</button>
                <button class="btn btn-outline-success me-2 filter-btn" data-filter="mobile">Móvil</button>
                <button class="btn btn-outline-warning filter-btn" data-filter="game">Videojuegos</button>
            </div>

            <div class="row g-4 justify-content-center" id="project-list">
                <!-- Tarjeta Web -->
                <div class="col-md-6 col-lg-4 project-item tilt" data-category="web" data-tilt data-tilt-max="15"
                    data-aos="flip-left" data-aos-delay="100">
                    <div class="card project-card shadow-sm position-relative overflow-hidden">
                        <img src="/assets/proyecto-web.png" class="card-img-top" alt="E-commerce App">
                        <!-- Siempre visible -->
                        <div class="card-body text-center bg-body-secondary">
                            <h5 class="card-title text-white">E-commerce App</h5>
                            <p class="mb-2"><span class="badge bg-primary">Spring Boot</span> <span
                                    class="badge bg-info">Thymeleaf</span></p>
                        </div>
                        <!-- Aparece al hover -->
                        <div class="overlay position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center text-center px-3"
                            style="background: rgba(0,0,0,0.7); opacity: 0; transition: opacity .3s;">
                            <p class="text-white mb-3">Panel admin, JWT y despliegue AWS.</p>
                            <a href="#" class="btn btn-sm btn-light me-2" data-bs-toggle="modal"
                                data-bs-target="#modalWeb">Detalles</a>
                            <a href="https://demo-web.live" target="_blank"
                                class="btn btn-sm btn-outline-light">Demo</a>
                        </div>
                    </div>
                </div>

                <!-- Tarjeta Móvil -->
                <div class="col-md-6 col-lg-4 project-item tilt" data-category="mobile" data-tilt data-tilt-max="15"
                    data-aos="flip-left" data-aos-delay="200">
                    <div class="card project-card shadow-sm position-relative overflow-hidden">
                        <img src="/assets/app-tareas.png" class="card-img-top" alt="App de Tareas">
                        <div class="card-body text-center bg-body-secondary">
                            <h5 class="card-title text-white">App de Tareas</h5>
                            <p class="mb-2"><span class="badge bg-success">Jetpack Compose</span> <span
                                    class="badge bg-secondary">Firebase</span></p>
                        </div>
                        <div class="overlay position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center text-center px-3"
                            style="background: rgba(0,0,0,0.7); opacity: 0; transition: opacity .3s;">
                            <p class="text-white mb-3">Offline/online sync con Firebase.</p>
                            <a href="#" class="btn btn-sm btn-light me-2" data-bs-toggle="modal"
                                data-bs-target="#modalMobile">Detalles</a>
                            <a href="https://demo-taskapp.live" target="_blank"
                                class="btn btn-sm btn-outline-light">Demo</a>
                        </div>
                    </div>
                </div>

                <!-- Tarjeta Videojuegos -->
                <div class="col-md-6 col-lg-4 project-item tilt" data-category="game" data-tilt data-tilt-max="15"
                    data-aos="flip-left" data-aos-delay="300">
                    <div class="card project-card shadow-sm position-relative overflow-hidden">
                        <img src="/assets/mansion-ecos.png" class="card-img-top" alt="La Mansión de los Ecos">
                        <div class="card-body text-center bg-body-secondary">
                            <h5 class="card-title text-white">La Mansión de los Ecos</h5>
                            <p class="mb-2"><span class="badge bg-warning">Unity</span> <span
                                    class="badge bg-secondary">C#</span></p>
                        </div>
                        <div class="overlay position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center text-center px-3"
                            style="background: rgba(0,0,0,0.7); opacity: 0; transition: opacity .3s;">
                            <p class="text-white mb-3">VR terror narrativo para Cardboard.</p>
                            <a href="#" class="btn btn-sm btn-light me-2" data-bs-toggle="modal"
                                data-bs-target="#modalGame">Detalles</a>
                            <a href="https://demo-vrgame.live" target="_blank"
                                class="btn btn-sm btn-outline-light">Demo</a>
                        </div>
                    </div>
                </div>

                <!-- Card Web: Dashboard Analíticas -->
                <div class="col-md-6 col-lg-4 project-item tilt" data-category="web" data-tilt data-tilt-max="15"
                    data-aos="flip-left" data-aos-delay="400">
                    <div class="card project-card shadow-sm position-relative overflow-hidden">
                        <img src="/assets/dashboard-analytics.png" class="card-img-top" alt="Analytics Dashboard">
                        <div class="card-body text-center bg-body-secondary">
                            <h5 class="card-title text-white">Analytics Dashboard</h5>
                            <p class="mb-2"><span class="badge bg-primary">React</span> <span
                                    class="badge bg-info">D3.js</span></p>
                        </div>
                        <div class="overlay position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center text-center px-3"
                            style="background: rgba(0,0,0,0.7); opacity: 0; transition: opacity .3s;">
                            <p class="text-white mb-3">Visualización en tiempo real con filtros dinámicos.</p>
                            <a href="#" class="btn btn-sm btn-light me-2">Detalles</a>
                            <a href="https://demo-dashboard.live" target="_blank"
                                class="btn btn-sm btn-outline-light">Demo</a>
                        </div>
                    </div>
                </div>

                <!-- Card Mobile: Chat App -->
                <div class="col-md-6 col-lg-4 project-item tilt" data-category="mobile" data-tilt data-tilt-max="15"
                    data-aos="flip-left" data-aos-delay="500">
                    <div class="card project-card shadow-sm position-relative overflow-hidden">
                        <img src="/assets/chat-app.png" class="card-img-top" alt="Chat App">
                        <div class="card-body text-center bg-body-secondary">
                            <h5 class="card-title text-white">Chat App</h5>
                            <p class="mb-2"><span class="badge bg-success">Flutter</span> <span
                                    class="badge bg-secondary">Firebase</span></p>
                        </div>
                        <div class="overlay position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center text-center px-3"
                            style="background: rgba(0,0,0,0.7); opacity: 0; transition: opacity .3s;">
                            <p class="text-white mb-3">Mensajería en tiempo real y notificaciones push.</p>
                            <a href="#" class="btn btn-sm btn-light me-2">Detalles</a>
                            <a href="https://demo-chatapp.live" target="_blank"
                                class="btn btn-sm btn-outline-light">Demo</a>
                        </div>
                    </div>
                </div>

                <!-- Card Game: Puzzle Adventure -->
                <div class="col-md-6 col-lg-4 project-item tilt" data-category="game" data-tilt data-tilt-max="15"
                    data-aos="flip-left" data-aos-delay="600">
                    <div class="card project-card shadow-sm position-relative overflow-hidden">
                        <img src="/assets/puzzle-adventure.png" class="card-img-top" alt="Puzzle Adventure">
                        <div class="card-body text-center bg-body-secondary">
                            <h5 class="card-title text-white">Puzzle Adventure</h5>
                            <p class="mb-2"><span class="badge bg-warning">Unity</span> <span
                                    class="badge bg-secondary">C#</span></p>
                        </div>
                        <div class="overlay position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center text-center px-3"
                            style="background: rgba(0,0,0,0.7); opacity: 0; transition: opacity .3s;">
                            <p class="text-white mb-3">Rompecabezas 3D con física y progresión de niveles.</p>
                            <a href="#" class="btn btn-sm btn-light me-2">Detalles</a>
                            <a href="https://demo-puzzle.live" target="_blank"
                                class="btn btn-sm btn-outline-light">Demo</a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>


    <!-- Certifications Section -->
    <section id="certifications" data-aos="fade-up">
        <div class="container">
            <h2 class="fw-semibold text-center mb-4" data-i18n-key="certifications_title">Certificaciones</h2>
            <div class="row g-3 justify-content-center">
                <div class="col-md-4 text-center">
                    <i class="fas fa-certificate fa-3x"></i>
                    <p>Spring Professional<br>2024</p>
                </div>
                <!-- Más certificaciones -->
            </div>
        </div>
    </section>

    <!-- Experience Section -->
    <section id="experience" data-aos="fade-up">
        <div class="container">
            <h2 class="fw-semibold text-center mb-4" data-i18n-key="experience_title">Experiencia</h2>
            <div class="timeline">
                <!-- Mantén tu timeline -->
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-5" style="background: var(--color-surface);">
        <div class="container" style="max-width: 600px;">
            <h2 class="fw-bold text-center mb-4" style="color: var(--color-primary);">Contáctame</h2>
            <form id="contactForm">
                <div class="mb-3">
                    <label for="name" class="form-label text-light">Nombre</label>
                    <input type="text" class="form-control" id="name" placeholder="Tu nombre" required>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label text-light">Correo Electrónico</label>
                    <input type="email" class="form-control" id="email" placeholder="tu@correo.com" required>
                </div>
                <div class="mb-3">
                    <label for="message" class="form-label text-light">Mensaje</label>
                    <textarea class="form-control" id="message" rows="4" placeholder="Tu mensaje..."
                        required></textarea>
                </div>
                <div class="text-center">
                    <button type="submit" class="btn btn-primary px-5">Enviar</button>
                </div>
                <div id="formAlert" class="alert alert-success mt-3 d-none"></div>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-4" style="background: var(--color-surface); color: var(--text-light);">
        <div class="container text-center">
            <!-- Redes Sociales -->
            <div class="mb-3">
                <a href="#" class="me-3 fs-4 text-light"><i class="fab fa-github"></i></a>
                <a href="#" class="me-3 fs-4 text-light"><i class="fab fa-linkedin"></i></a>
                <a href="#" class="me-3 fs-4 text-light"><i class="fab fa-twitter"></i></a>
                <a href="#" class="fs-4 text-light"><i class="fab fa-instagram"></i></a>
            </div>
            <!-- Información de contacto -->
            <div class="small mb-2">
                <i class="fas fa-envelope me-1"></i> brot10102017@gmail.com &nbsp;|&nbsp;
                <i class="fas fa-phone me-1"></i> +57 302 377 2644 &nbsp;|&nbsp;
                <i class="fas fa-map-marker-alt me-1"></i> Colombia
            </div>
            <div class="small">
                &copy; <span id="footerYear"></span> Brayan Steven León Martinez &mdash; Todos los derechos reservados.
            </div>
        </div>
    </footer>

    <!-- Resto del documento unchanged -->
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.7.0/dist/vanilla-tilt.min.js"></script>
    <script>
        document.getElementById('footerYear').textContent = new Date().getFullYear();


        // 2) Inicializar AOS (sigue para el fade-up de la sección, si quieres)
        AOS.init({ duration: 800, once: true });

        // 3) Hero con GSAP (opcional)
        gsap.from('#hero h1', { y: -50, opacity: 0, duration: 1 });
        gsap.from('#hero p', { y: 50, opacity: 0, delay: 0.5, duration: 1 });

        // 4) IntersectionObserver para cada barra
        const bars = document.querySelectorAll('.skill-progress .progress-bar');
        const barObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // al entrar en viewport
                    const bar = entry.target;
                    bar.style.width = bar.getAttribute('data-width');
                    observer.unobserve(bar);
                }
            });
        }, {
            root: null,
            rootMargin: '0px',
            threshold: 0.3   // ajusta este valor si quieres dispara antes o después
        });

        bars.forEach(bar => barObserver.observe(bar));

        // 5) Toggle tema
        document.getElementById('theme-toggle').addEventListener('click', () => {
            const html = document.documentElement;
            const next = html.getAttribute('data-bs-theme') === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-bs-theme', next);
            document.querySelector('#theme-toggle i').classList.toggle('fa-sun');
            document.querySelector('#theme-toggle i').classList.toggle('fa-moon');
        });

        // Language translations
        const translations = {
            es: {
                title: 'Portafolio | Brayan S. León M.',
                nav_about: 'Sobre mí', nav_skills: 'Habilidades', nav_projects: 'Proyectos', nav_testimonials: 'Testimonios', nav_experience: 'Experiencia', nav_contact: 'Contacto',
                hero_title: 'Hola, soy Brayan S. León M.', hero_subtitle: 'Ingeniero de Sistemas apasionado por crear experiencias digitales únicas.', hero_view_projects: 'Ver Proyectos', hero_download_cv: 'Descargar CV',
                about_title: 'Sobre mí', about_p1: 'Desde niño me fascinaban los videojuegos, lo que me llevó a estudiar Tecnólogo en Desarrollo de Videojuegos e Ingeniería de Sistemas. He combinado mis estudios con dos años de experiencia en Devs Technology.', about_p2: 'Finalista en el UNAB GameDev GameJam, descubrí que la innovación y la diversión pueden ir de la mano en la programación.', about_funfact_label: 'Dato curioso:', about_funfact: 'Cuando no programo, me gusta construir prototipos con Arduino o explorar videojuegos indie.',
                skills_title: 'Habilidades', testimonials_title: 'Testimonios', projects_title: 'Proyectos Destacados', certifications_title: 'Certificaciones', experience_title: 'Experiencia', contact_title: 'Contáctame'
            },
            en: {
                title: 'Portfolio | Brayan S. León M.',
                nav_about: 'About', nav_skills: 'Skills', nav_projects: 'Projects', nav_testimonials: 'Testimonials', nav_experience: 'Experience', nav_contact: 'Contact',
                hero_title: 'Hi, I’m Brayan S. León M.', hero_subtitle: 'Systems Engineer passionate about crafting digital experiences.', hero_view_projects: 'View Projects', hero_download_cv: 'Download CV',
                about_title: 'About Me', about_p1: 'Since childhood I loved video games, leading me to study Game Development and Systems Engineering. I have two years of experience at Devs Technology.', about_p2: 'Finalist at the UNAB GameDev GameJam where innovation meets fun in programming.', about_funfact_label: 'Fun fact:', about_funfact: 'When I’m not coding, I build Arduino prototypes or explore indie games.',
                skills_title: 'Skills', testimonials_title: 'Testimonials', projects_title: 'Featured Projects', certifications_title: 'Certifications', experience_title: 'Experience', contact_title: 'Contact Me'
            }
        };
        let currentLang = 'es';
        const langBtn = document.getElementById('lang-toggle');
        langBtn.addEventListener('click', () => {
            currentLang = currentLang === 'es' ? 'en' : 'es';
            langBtn.textContent = currentLang.toUpperCase();
            document.querySelectorAll('[data-i18n-key]').forEach(el => {
                const key = el.getAttribute('data-i18n-key');
                if (translations[currentLang][key]) {
                    el.textContent = translations[currentLang][key];
                }
            });
        });


        // Tilt 3D
        VanillaTilt.init(document.querySelectorAll('.tilt'), {
            max: 15, speed: 400, glare: true, 'max-glare': 0.2
        });

        // Proyecto → filtro
        document.querySelectorAll('.filter-btn').forEach(btn => btn.addEventListener('click', () => {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            const f = btn.dataset.filter;
            document.querySelectorAll('.project-item')
                .forEach(i => i.classList.toggle('hide', f !== 'all' && i.dataset.category !== f));
        }));

        // Simulación de envío
        document.getElementById('contactForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const alertEl = document.getElementById('formAlert');
            alertEl.textContent = '¡Mensaje enviado con éxito! Gracias por escribirme.';
            alertEl.classList.remove('d-none');
            this.reset();
        });
    </script>